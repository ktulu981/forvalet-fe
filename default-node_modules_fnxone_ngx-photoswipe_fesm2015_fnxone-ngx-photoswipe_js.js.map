{"version":3,"file":"default-node_modules_fnxone_ngx-photoswipe_fesm2015_fnxone-ngx-photoswipe_js.js","mappings":"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","sources":["./node_modules/@fnxone/ngx-photoswipe/fesm2015/fnxone-ngx-photoswipe.js","./node_modules/photoswipe/dist/photoswipe-ui-default.js","./node_modules/photoswipe/dist/photoswipe.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Component, ViewChild, Input, NgModule } from '@angular/core';\nimport * as PhotoSwipe from 'photoswipe';\nimport * as PhotoSwipeUI_Default from 'photoswipe/dist/photoswipe-ui-default';\nimport { CommonModule } from '@angular/common';\n\n/* eslint-disable @typescript-eslint/ban-types */\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/common';\n\nconst _c0 = [\"ngxLightbox\"];\nconst _c1 = [\"ngxpsGallery\"];\nfunction GalleryComponent_figure_2_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"figure\", 3)(1, \"a\", 4);\n    ngcc0.listener(\"click\", function GalleryComponent_figure_2_Template_a_click_1_listener() { const restoredCtx = ngcc0.restoreView(_r5); const image_r2 = restoredCtx.$implicit; const idx_r3 = restoredCtx.index; const ctx_r4 = ngcc0.nextContext(); return ngcc0.resetView(ctx_r4.onClickImage(image_r2, idx_r3)); });\n    ngcc0.element(2, \"img\", 5);\n    ngcc0.elementEnd()();\n} if (rf & 2) {\n    const image_r2 = ctx.$implicit;\n    ngcc0.advance(1);\n    ngcc0.property(\"href\", image_r2.img, ngcc0.sanitizeUrl);\n    ngcc0.advance(1);\n    ngcc0.property(\"src\", image_r2.thumb, ngcc0.sanitizeUrl)(\"alt\", image_r2.description);\n} }\nconst _c2 = [\"*\"];\nfunction ngxPhotoSwipeFactory() {\n    return new DefaultLightboxAdapter();\n}\nclass LightboxAdapter {\n}\nLightboxAdapter.fac = function LightboxAdapter_Factory(t) { return new (t || LightboxAdapter)(); };\nLightboxAdapter.prov = i0.defineInjectable({ factory: ngxPhotoSwipeFactory, token: LightboxAdapter, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(LightboxAdapter, [{\n        type: Injectable,\n        args: [{ providedIn: 'root', useFactory: ngxPhotoSwipeFactory }]\n    }], null, null); })();\nclass DefaultLightboxAdapter extends LightboxAdapter {\n    constructor() {\n        super(...arguments);\n        this.allowPanToNext = true;\n        this.spacing = 0.12;\n        this.bgOpacity = 1.0;\n        this.mouseUsed = false;\n        this.loop = true;\n        this.pinchToClose = true;\n        this.closeOnScroll = true;\n        this.closeOnVerticalDrag = true;\n        this.hideAnimationDuration = 333;\n        this.showAnimationDuration = 333;\n        this.showHideOpacity = false;\n        this.escKey = true;\n        this.arrowKeys = true;\n    }\n}\nDefaultLightboxAdapter.fac = /*@__PURE__*/ function () { let DefaultLightboxAdapter_BaseFactory; return function DefaultLightboxAdapter_Factory(t) { return (DefaultLightboxAdapter_BaseFactory || (DefaultLightboxAdapter_BaseFactory = ngcc0.getInheritedFactory(DefaultLightboxAdapter)))(t || DefaultLightboxAdapter); }; }();\nDefaultLightboxAdapter.prov = /*@__PURE__*/ ngcc0.defineInjectable({ token: DefaultLightboxAdapter, factory: DefaultLightboxAdapter.fac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(DefaultLightboxAdapter, [{\n        type: Injectable\n    }], null, null); })();\n\nclass NgxPhotoswipeService {\n}\nNgxPhotoswipeService.fac = function NgxPhotoswipeService_Factory(t) { return new (t || NgxPhotoswipeService)(); };\nNgxPhotoswipeService.prov = i0.defineInjectable({ factory: function NgxPhotoswipeService_Factory() { return new NgxPhotoswipeService(); }, token: NgxPhotoswipeService, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(NgxPhotoswipeService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], null, null); })();\n\nclass LightboxComponent {\n    constructor(ngxPhotoswipeService) {\n        this.ngxPhotoswipeService = ngxPhotoswipeService;\n    }\n    ngAfterContentInit() {\n        this.ngxPhotoswipeService.lightboxElement = this.el;\n    }\n}\nLightboxComponent.fac = function LightboxComponent_Factory(t) { return new (t || LightboxComponent)(ngcc0.directiveInject(NgxPhotoswipeService)); };\nLightboxComponent.cmp = /*@__PURE__*/ ngcc0.defineComponent({ type: LightboxComponent, selectors: [[\"ngxps-lightbox\"]], viewQuery: function LightboxComponent_Query(rf, ctx) { if (rf & 1) {\n        ngcc0.viewQuery(_c0, 7);\n    } if (rf & 2) {\n        let _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.el = _t.first);\n    } }, decls: 24, vars: 0, consts: [[\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-hidden\", \"true\", 1, \"pswp\"], [\"ngxLightbox\", \"\"], [1, \"pswp__bg\"], [1, \"pswp__scroll-wrap\"], [1, \"pswp__container\"], [1, \"pswp__item\"], [1, \"pswp__ui\", \"pswp__ui--hidden\"], [1, \"pswp__top-bar\"], [1, \"pswp__counter\"], [\"title\", \"Close (Esc)\", 1, \"pswp__button\", \"pswp__button--close\"], [\"title\", \"Toggle fullscreen\", 1, \"pswp__button\", \"pswp__button--fs\"], [\"title\", \"Zoom in/out\", 1, \"pswp__button\", \"pswp__button--zoom\"], [1, \"pswp__preloader\"], [1, \"pswp__preloader__icn\"], [1, \"pswp__preloader__cut\"], [1, \"pswp__preloader__donut\"], [1, \"pswp__share-modal\", \"pswp__share-modal--hidden\", \"pswp__single-tap\"], [1, \"pswp__share-tooltip\"], [\"title\", \"Previous (arrow left)\", 1, \"pswp__button\", \"pswp__button--arrow--left\"], [\"title\", \"Next (arrow right)\", 1, \"pswp__button\", \"pswp__button--arrow--right\"], [1, \"pswp__caption\"], [1, \"pswp__caption__center\"]], template: function LightboxComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"div\", 0, 1);\n        ngcc0.element(2, \"div\", 2);\n        ngcc0.elementStart(3, \"div\", 3)(4, \"div\", 4);\n        ngcc0.element(5, \"div\", 5)(6, \"div\", 5)(7, \"div\", 5);\n        ngcc0.elementEnd();\n        ngcc0.elementStart(8, \"div\", 6)(9, \"div\", 7);\n        ngcc0.element(10, \"div\", 8)(11, \"button\", 9)(12, \"button\", 10)(13, \"button\", 11);\n        ngcc0.elementStart(14, \"div\", 12)(15, \"div\", 13)(16, \"div\", 14);\n        ngcc0.element(17, \"div\", 15);\n        ngcc0.elementEnd()()()();\n        ngcc0.elementStart(18, \"div\", 16);\n        ngcc0.element(19, \"div\", 17);\n        ngcc0.elementEnd();\n        ngcc0.element(20, \"button\", 18)(21, \"button\", 19);\n        ngcc0.elementStart(22, \"div\", 20);\n        ngcc0.element(23, \"div\", 21);\n        ngcc0.elementEnd()()()();\n    } }, styles: [\".pswp[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.pswp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:none}.pswp--animate_opacity[_ngcontent-%COMP%]{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open[_ngcontent-%COMP%]{display:block}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__zoom-wrap[_ngcontent-%COMP%]{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container[_ngcontent-%COMP%], .pswp__img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.pswp__zoom-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg[_ngcontent-%COMP%]{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in[_ngcontent-%COMP%]   .pswp__bg[_ngcontent-%COMP%], .pswp--animated-in[_ngcontent-%COMP%]   .pswp__zoom-wrap[_ngcontent-%COMP%]{transition:none}.pswp__container[_ngcontent-%COMP%], .pswp__zoom-wrap[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden}.pswp__item[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img[_ngcontent-%COMP%]{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank[_ngcontent-%COMP%]{background:#222}.pswp--ie[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc;text-decoration:underline}.pswp__button[_ngcontent-%COMP%]{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button[_ngcontent-%COMP%]:focus, .pswp__button[_ngcontent-%COMP%]:hover{opacity:1}.pswp__button[_ngcontent-%COMP%]:active{outline:none;opacity:.9}.pswp__button[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close[_ngcontent-%COMP%]   .pswp__button--close[_ngcontent-%COMP%]{opacity:1}.pswp__button[_ngcontent-%COMP%], .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background:url(/assets/media/default-skin.png) 0 0 no-repeat;background-size:264px 88px;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio: 1.1),(-webkit-min-device-pixel-ratio: 1.09375),(min-resolution: 105dpi),(min-resolution: 1.1dppx){.pswp--svg[_ngcontent-%COMP%]   .pswp__button[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{background:none}}.pswp__button--close[_ngcontent-%COMP%]{background-position:0 -44px}.pswp__button--share[_ngcontent-%COMP%]{background-position:-44px -44px}.pswp__button--fs[_ngcontent-%COMP%]{display:none}.pswp--supports-fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{display:block}.pswp--fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{background-position:-44px 0}.pswp__button--zoom[_ngcontent-%COMP%]{display:none;background-position:-88px 0}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{display:block}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{background-position:-132px 0}.pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:hidden}.pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__button--arrow--right[_ngcontent-%COMP%]{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]{left:0}.pswp__button--arrow--right[_ngcontent-%COMP%]{right:0}.pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{content:\\\"\\\";top:35px;background-color:#0000004d;height:30px;width:32px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right[_ngcontent-%COMP%]:before{right:6px;background-position:-94px -44px}.pswp__counter[_ngcontent-%COMP%], .pswp__share-modal[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.pswp__share-modal[_ngcontent-%COMP%]{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden[_ngcontent-%COMP%]{display:none}.pswp__share-tooltip[_ngcontent-%COMP%]{z-index:1620;position:absolute;background:#FFF;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px #00000040;transform:translateY(6px);transition:transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in[_ngcontent-%COMP%]{opacity:1}.pswp__share-modal--fade-in[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]{transform:translateY(0)}.pswp--touch[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:16px 12px}a.pswp__share--facebook[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid rgba(0,0,0,0);border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook[_ngcontent-%COMP%]:hover{background:#3E5C9A;color:#fff}a.pswp__share--facebook[_ngcontent-%COMP%]:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter[_ngcontent-%COMP%]:hover{background:#55ACEE;color:#fff}a.pswp__share--pinterest[_ngcontent-%COMP%]:hover{background:#CCC;color:#ce272d}a.pswp__share--download[_ngcontent-%COMP%]:hover{background:#DDD}.pswp__counter[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px;color:#bbb}.pswp__caption__center[_ngcontent-%COMP%]{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty[_ngcontent-%COMP%]{display:none}.pswp__caption--fake[_ngcontent-%COMP%]{visibility:hidden}.pswp__preloader[_ngcontent-%COMP%]{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn[_ngcontent-%COMP%]{width:20px;height:20px;margin:12px}.pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:url(/assets/media/preloader.gif) 0 0 no-repeat}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_clockwise .5s linear infinite;animation:_ngcontent-%COMP%_clockwise .5s linear infinite}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite;animation:_ngcontent-%COMP%_donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__cut[_ngcontent-%COMP%]{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{box-sizing:border-box;width:14px;height:14px;border:2px solid #FFF;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media screen and (max-width: 1024px){.pswp__preloader[_ngcontent-%COMP%]{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes _ngcontent-%COMP%_clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_donut-rotate{0%{transform:rotate(0)}50%{transform:rotate(-140deg)}to{transform:rotate(0)}}@keyframes _ngcontent-%COMP%_donut-rotate{0%{transform:rotate(0)}50%{transform:rotate(-140deg)}to{transform:rotate(0)}}.pswp__ui[_ngcontent-%COMP%]{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;width:100%}.pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:visible}.pswp__top-bar[_ngcontent-%COMP%], .pswp__caption[_ngcontent-%COMP%]{background-color:#00000080}.pswp__ui--fit[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%], .pswp__ui--fit[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%]{background-color:#0000004d}.pswp__ui--idle[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:0}.pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{opacity:0}.pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{opacity:.001}.pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__counter[_ngcontent-%COMP%]{display:none}.pswp__element--disabled[_ngcontent-%COMP%]{display:none!important}.pswp--minimal--dark[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background:none}\"] });\nLightboxComponent.ctorParameters = () => [\n    { type: NgxPhotoswipeService }\n];\nLightboxComponent.propDecorators = {\n    el: [{ type: ViewChild, args: ['ngxLightbox', { static: true },] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(LightboxComponent, [{\n        type: Component,\n        args: [{ selector: 'ngxps-lightbox', template: \"<div class=\\\"pswp\\\" #ngxLightbox tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"pswp__bg\\\"></div>\\n  <div class=\\\"pswp__scroll-wrap\\\">\\n    <div class=\\\"pswp__container\\\">\\n      <div class=\\\"pswp__item\\\"></div>\\n      <div class=\\\"pswp__item\\\"></div>\\n      <div class=\\\"pswp__item\\\"></div>\\n    </div>\\n    <div class=\\\"pswp__ui pswp__ui--hidden\\\">\\n      <div class=\\\"pswp__top-bar\\\">\\n        <div class=\\\"pswp__counter\\\"></div>\\n        <button class=\\\"pswp__button pswp__button--close\\\" title=\\\"Close (Esc)\\\"></button>\\n        <button class=\\\"pswp__button pswp__button--fs\\\" title=\\\"Toggle fullscreen\\\"></button>\\n        <button class=\\\"pswp__button pswp__button--zoom\\\" title=\\\"Zoom in/out\\\"></button>\\n        <div class=\\\"pswp__preloader\\\">\\n          <div class=\\\"pswp__preloader__icn\\\">\\n            <div class=\\\"pswp__preloader__cut\\\">\\n              <div class=\\\"pswp__preloader__donut\\\"></div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\\\">\\n        <div class=\\\"pswp__share-tooltip\\\"></div>\\n      </div>\\n      <button class=\\\"pswp__button pswp__button--arrow--left\\\" title=\\\"Previous (arrow left)\\\">\\n      </button>\\n      <button class=\\\"pswp__button pswp__button--arrow--right\\\" title=\\\"Next (arrow right)\\\">\\n      </button>\\n      <div class=\\\"pswp__caption\\\">\\n        <div class=\\\"pswp__caption__center\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\".pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed .pswp__img{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in .pswp__img{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging .pswp__img{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container,.pswp__zoom-wrap{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in .pswp__bg,.pswp--animated-in .pswp__zoom-wrap{transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg a{color:#ccc;text-decoration:underline}.pswp__button{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:none;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(/assets/media/default-skin.png) 0 0 no-repeat;background-size:264px 88px;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio: 1.1),(-webkit-min-device-pixel-ratio: 1.09375),(min-resolution: 105dpi),(min-resolution: 1.1dppx){.pswp--svg .pswp__button,.pswp--svg .pswp__button--arrow--left:before,.pswp--svg .pswp__button--arrow--right:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg .pswp__button--arrow--left,.pswp--svg .pswp__button--arrow--right{background:none}}.pswp__button--close{background-position:0 -44px}.pswp__button--share{background-position:-44px -44px}.pswp__button--fs{display:none}.pswp--supports-fs .pswp__button--fs{display:block}.pswp--fs .pswp__button--fs{background-position:-44px 0}.pswp__button--zoom{display:none;background-position:-88px 0}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__button--zoom{background-position:-132px 0}.pswp--touch .pswp__button--arrow--left,.pswp--touch .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:\\\"\\\";top:35px;background-color:#0000004d;height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#FFF;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px #00000040;transform:translateY(6px);transition:transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip a{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip a:hover{text-decoration:none;color:#000}.pswp__share-tooltip a:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip a:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in .pswp__share-tooltip{transform:translateY(0)}.pswp--touch .pswp__share-tooltip a{padding:16px 12px}a.pswp__share--facebook:before{content:\\\"\\\";display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid rgba(0,0,0,0);border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3E5C9A;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55ACEE;color:#fff}a.pswp__share--pinterest:hover{background:#CCC;color:#ce272d}a.pswp__share--download:hover{background:#DDD}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active .pswp__preloader__icn{background:url(/assets/media/preloader.gif) 0 0 no-repeat}.pswp--css_animation .pswp__preloader--active{opacity:1}.pswp--css_animation .pswp__preloader--active .pswp__preloader__icn{-webkit-animation:clockwise .5s linear infinite;animation:clockwise .5s linear infinite}.pswp--css_animation .pswp__preloader--active .pswp__preloader__donut{-webkit-animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite;animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite}.pswp--css_animation .pswp__preloader__icn{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px solid #FFF;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media screen and (max-width: 1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%{transform:rotate(0)}50%{transform:rotate(-140deg)}to{transform:rotate(0)}}@keyframes donut-rotate{0%{transform:rotate(0)}50%{transform:rotate(-140deg)}to{transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp__caption,.pswp__top-bar,.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{visibility:visible}.pswp__top-bar,.pswp__caption{background-color:#00000080}.pswp__ui--fit .pswp__top-bar,.pswp__ui--fit .pswp__caption{background-color:#0000004d}.pswp__ui--idle .pswp__top-bar{opacity:0}.pswp__ui--idle .pswp__button--arrow--left,.pswp__ui--idle .pswp__button--arrow--right{opacity:0}.pswp__ui--hidden .pswp__top-bar,.pswp__ui--hidden .pswp__caption,.pswp__ui--hidden .pswp__button--arrow--left,.pswp__ui--hidden .pswp__button--arrow--right{opacity:.001}.pswp__ui--one-slide .pswp__button--arrow--left,.pswp__ui--one-slide .pswp__button--arrow--right,.pswp__ui--one-slide .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark .pswp__top-bar{background:none}\\n\"] }]\n    }], function () { return [{ type: NgxPhotoswipeService }]; }, { el: [{\n            type: ViewChild,\n            args: ['ngxLightbox', { static: true }]\n        }] }); })();\n\nvar GridGap;\n(function (GridGap) {\n    GridGap[GridGap[\"GAP0\"] = 0] = \"GAP0\";\n    GridGap[GridGap[\"GAP1\"] = 1] = \"GAP1\";\n    GridGap[GridGap[\"GAP2\"] = 2] = \"GAP2\";\n    GridGap[GridGap[\"GAP3\"] = 3] = \"GAP3\";\n    GridGap[GridGap[\"GAP4\"] = 4] = \"GAP4\";\n    GridGap[GridGap[\"GAP5\"] = 5] = \"GAP5\";\n})(GridGap || (GridGap = {}));\n\nclass GalleryComponent {\n    constructor(ngxPhotoswipeService, adapter) {\n        this.ngxPhotoswipeService = ngxPhotoswipeService;\n        this.adapter = adapter;\n        this.gridGap = GridGap.GAP1;\n    }\n    onClickImage(data, index) {\n        data.id = index;\n        this.openPhotoSwipe(data);\n        return false;\n    }\n    openPhotoSwipe(image) {\n        this.adapter.galleryUID = Number(this.galleryElement.nativeElement.getAttribute('data-pswp-uid'));\n        this.adapter.index = image.id;\n        const PSWP = this.ngxPhotoswipeService.lightboxElement\n            .nativeElement;\n        this.pswp = new PhotoSwipe(PSWP, PhotoSwipeUI_Default, this.getImagesAsPhotoSwipe(), this.adapter);\n        this.pswp.init();\n        return false;\n    }\n    getImagesAsPhotoSwipe() {\n        return this.images.map((image) => ({\n            src: image.img,\n            w: image.width != null ? image.width : 4934,\n            h: image.height != null ? image.height : 3296,\n            pid: image.id,\n            title: image.description,\n        }));\n    }\n}\nGalleryComponent.fac = function GalleryComponent_Factory(t) { return new (t || GalleryComponent)(ngcc0.directiveInject(NgxPhotoswipeService), ngcc0.directiveInject(LightboxAdapter)); };\nGalleryComponent.cmp = /*@__PURE__*/ ngcc0.defineComponent({ type: GalleryComponent, selectors: [[\"ngxps-gallery\"]], viewQuery: function GalleryComponent_Query(rf, ctx) { if (rf & 1) {\n        ngcc0.viewQuery(_c1, 7);\n    } if (rf & 2) {\n        let _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.galleryElement = _t.first);\n    } }, inputs: { gridGap: \"gridGap\", images: \"images\" }, ngContentSelectors: _c2, decls: 4, vars: 2, consts: [[1, \"d-grid\", \"ngx-gallery\", 3, \"ngClass\"], [\"ngxpsGallery\", \"\"], [\"class\", \"m-0 p-0\", 4, \"ngFor\", \"ngForOf\"], [1, \"m-0\", \"p-0\"], [\"data-size\", \"4934x3296\", 3, \"href\", \"click\"], [1, \"img-fluid\", \"rounded-1\", 3, \"src\", \"alt\"]], template: function GalleryComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef();\n        ngcc0.elementStart(0, \"div\", 0, 1);\n        ngcc0.template(2, GalleryComponent_figure_2_Template, 3, 3, \"figure\", 2);\n        ngcc0.projection(3);\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        ngcc0.property(\"ngClass\", \"gap-\" + ctx.gridGap);\n        ngcc0.advance(2);\n        ngcc0.property(\"ngForOf\", ctx.images);\n    } }, dependencies: [ngcc1.NgClass, ngcc1.NgForOf], styles: [\".ngx-gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(16rem,1fr))}.ngx-gallery[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:zoom-in;transition:opacity .4s ease-in-out}.ngx-gallery[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.8}\"] });\nGalleryComponent.ctorParameters = () => [\n    { type: NgxPhotoswipeService },\n    { type: LightboxAdapter }\n];\nGalleryComponent.propDecorators = {\n    galleryElement: [{ type: ViewChild, args: ['ngxpsGallery', { static: true },] }],\n    images: [{ type: Input }],\n    gridGap: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(GalleryComponent, [{\n        type: Component,\n        args: [{ selector: 'ngxps-gallery', template: \"<div class=\\\"d-grid ngx-gallery\\\" [ngClass]=\\\"'gap-'+gridGap\\\" #ngxpsGallery>\\n      <figure class=\\\"m-0 p-0\\\" *ngFor=\\\"let image of images; let idx = index\\\">\\n        <a [href]=\\\"image.img\\\" data-size=\\\"4934x3296\\\" (click)=\\\"onClickImage(image, idx)\\\">\\n          <img class=\\\"img-fluid rounded-1\\\" [src]=\\\"image.thumb\\\" [alt]=\\\"image.description\\\">\\n        </a>\\n      </figure>\\n\\n      <ng-content></ng-content>\\n</div>\\n\", styles: [\".ngx-gallery{grid-template-columns:repeat(auto-fill,minmax(16rem,1fr))}.ngx-gallery figure img{cursor:zoom-in;transition:opacity .4s ease-in-out}.ngx-gallery figure img:hover{opacity:.8}\\n\"] }]\n    }], function () { return [{ type: NgxPhotoswipeService }, { type: LightboxAdapter }]; }, { gridGap: [{\n            type: Input\n        }], galleryElement: [{\n            type: ViewChild,\n            args: ['ngxpsGallery', { static: true }]\n        }], images: [{\n            type: Input\n        }] }); })();\n\nclass NgxPhotoswipeModule {\n}\nNgxPhotoswipeModule.fac = function NgxPhotoswipeModule_Factory(t) { return new (t || NgxPhotoswipeModule)(); };\nNgxPhotoswipeModule.mod = /*@__PURE__*/ ngcc0.defineNgModule({ type: NgxPhotoswipeModule });\nNgxPhotoswipeModule.inj = /*@__PURE__*/ ngcc0.defineInjector({ imports: [CommonModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(NgxPhotoswipeModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [LightboxComponent, GalleryComponent],\n                imports: [CommonModule],\n                exports: [LightboxComponent, GalleryComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(NgxPhotoswipeModule, { declarations: function () { return [LightboxComponent, GalleryComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [LightboxComponent, GalleryComponent]; } }); })();\n\nclass Image {\n    constructor(img, thumb, description, width, height, id) {\n        this.img = img;\n        this.thumb = thumb;\n        this.description = description;\n        this.width = width;\n        this.height = height;\n        this.id = id;\n    }\n}\n\n/*\n * Public API Surface of ngx-photoswipe\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GalleryComponent, GridGap, Image, LightboxAdapter, NgxPhotoswipeModule, ngxPhotoSwipeFactory as a, DefaultLightboxAdapter as b, LightboxComponent as c, NgxPhotoswipeService as d };\n\n","/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n","/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = !!(window.PointerEvent) || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\t_orientationChangeTimeout,\n\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll orientationchange', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize scroll orientationchange', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\tclearTimeout(_orientationChangeTimeout);\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\n\t\t\t// Fixes: iOS 10.3 resize event\n\t\t\t// does not update scrollWrap.clientWidth instantly after resize\n\t\t\t// https://github.com/dimsemenov/PhotoSwipe/issues/1315\n\t\t\torientationchange: function() {\n\t\t\t\tclearTimeout(_orientationChangeTimeout);\n\t\t\t\t_orientationChangeTimeout = setTimeout(function() {\n\t\t\t\t\tif(_viewportSize.x !== self.scrollWrap.clientWidth) {\n\t\t\t\t\t\tself.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted  direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t} else {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});"],"names":["i0","Injectable","Component","ViewChild","Input","NgModule","PhotoSwipe","PhotoSwipeUI_Default","CommonModule","ngcc0","ngcc1","_c0","_c1","GalleryComponent_figure_2_Template","rf","ctx","_r5","getCurrentView","elementStart","listener","GalleryComponent_figure_2_Template_a_click_1_listener","restoredCtx","restoreView","image_r2","$implicit","idx_r3","index","ctx_r4","nextContext","resetView","onClickImage","element","elementEnd","advance","property","img","sanitizeUrl","thumb","description","_c2","ngxPhotoSwipeFactory","DefaultLightboxAdapter","LightboxAdapter","fac","LightboxAdapter_Factory","t","prov","defineInjectable","factory","token","providedIn","ngDevMode","setClassMetadata","type","args","useFactory","constructor","arguments","allowPanToNext","spacing","bgOpacity","mouseUsed","loop","pinchToClose","closeOnScroll","closeOnVerticalDrag","hideAnimationDuration","showAnimationDuration","showHideOpacity","escKey","arrowKeys","DefaultLightboxAdapter_BaseFactory","DefaultLightboxAdapter_Factory","getInheritedFactory","NgxPhotoswipeService","NgxPhotoswipeService_Factory","LightboxComponent","ngxPhotoswipeService","ngAfterContentInit","lightboxElement","el","LightboxComponent_Factory","directiveInject","cmp","defineComponent","selectors","viewQuery","LightboxComponent_Query","viewQuery","_t","queryRefresh","loadQuery","first","decls","vars","consts","template","LightboxComponent_Template","styles","ctorParameters","propDecorators","static","selector","GridGap","GalleryComponent","adapter","gridGap","GAP1","data","id","openPhotoSwipe","image","galleryUID","Number","galleryElement","nativeElement","getAttribute","PSWP","pswp","getImagesAsPhotoSwipe","init","images","map","src","w","width","h","height","pid","title","GalleryComponent_Factory","GalleryComponent_Query","inputs","ngContentSelectors","GalleryComponent_Template","projectionDef","template","projection","dependencies","NgClass","NgForOf","NgxPhotoswipeModule","NgxPhotoswipeModule_Factory","mod","defineNgModule","inj","defineInjector","imports","declarations","exports","ngJitMode","setNgModuleScope","Image","a","b","c","d","root","define","amd","module","framework","ui","_overlayUIUpdated","_controlsVisible","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_shareModalHidden","_initalCloseOnScrollValue","_isIdle","_listen","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_options","_defaultUIOptions","barsSize","top","bottom","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","item","captionEl","children","innerHTML","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","url","download","getImageURLForShare","currItem","getPageURLForShare","window","location","href","getTextForShare","indexIndicatorSep","fitControlsWidth","_blockControlsTap","_blockControlsTapTimeout","_onControlsTap","e","event","_onIdleMouseMove","target","srcElement","uiElement","clickedClass","found","i","_uiElements","length","onTap","indexOf","name","stopPropagation","tapDelay","features","isOldAndroid","setTimeout","_fitControlsInViewport","likelyTouchDevice","screen","_togglePswpClass","cName","add","_countNumItems","hasOneSlide","getNumItemsFn","_toggleShareModalClass","_toggleShareModal","addClass","removeClass","_updateShareURLs","_openWindowPopup","shout","hasAttribute","open","Math","round","shareButtonOut","shareButtonData","shareURL","image_url","page_url","share_text","replace","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","hasClass","_idleInterval","_idleTimer","_idleIncrement","clearTimeout","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_setupFullscreenAPI","getFullscreenAPI","bind","document","eventK","updateFullscreen","_setupLoadingIndicator","_toggleLoadingIndicator","loading","allowProgressiveImg","naturalWidth","hide","_applyNavBarGaps","gap","vGap","bars","createEl","appendChild","insertBefore","captionSize","clientHeight","parseInt","_setupIdle","setInterval","_setupHidingControlsDuringGestures","now","hideControls","showControls","pinchControlsHidden","option","onInit","toggleDesktopZoom","close","prev","next","isFullscreen","exit","enter","_setupUIElements","classAttr","loopThroughChildElements","sChildren","l","className","a","topBar","getChildByClass","extend","options","scrollWrap","listen","update","point","initialZoomLevel","getZoomLevel","zoomTo","getDoubleTapZoom","isDown","preventObj","test","tagName","prevent","onGlobalTap","onMouseOver","clearInterval","unbind","removeChild","isIdle","updateIndexIndicator","setScrollOffset","getScrollY","getCurrentIndex","detail","pointerType","fitRatio","releasePoint","supportsFullscreen","d","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dE","documentElement","api","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","UiClass","items","listener","methodName","split","isArray","obj","Array","classes","tag","createElement","yOffset","pageYOffset","undefined","scrollTop","reg","RegExp","parentEl","childClassName","node","firstChild","nextSibling","arraySearch","array","value","key","o1","o2","preventOverwrite","prop","hasOwnProperty","easing","sine","out","k","sin","PI","inOut","cos","cubic","detectFeatures","helperEl","helperStyle","style","vendor","oldIE","all","addEventListener","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","PointerEvent","navigator","msPointerEnabled","ua","userAgent","platform","v","appVersion","match","isOldIOSPhone","androidversion","parseFloat","androidVersion","isMobileOpera","styleChecks","vendors","styleCheckItem","styleName","charAt","toUpperCase","slice","toLowerCase","lastTime","fn","currTime","Date","getTime","timeToCall","max","svg","createElementNS","createSVGRect","evName","_handleEv","handleEvent","call","self","DOUBLE_TAP_RADIUS","NUM_HOLDERS","verticalDragRange","focus","mainScrollEndFriction","panEndFriction","isClickableElement","isMouseClick","maxSpreadZoom","modal","scaleMode","_getEmptyPoint","x","y","_isOpen","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_currPanDist","_startPanOffset","_panOffset","_upMoveEvents","_downEvents","_globalEventHandlers","_viewportSize","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_currPositionIndex","_offset","_slideSize","_itemHolders","_prevItemIndex","_indexDiff","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_isFixedPosition","_likelyTouchDevice","_modules","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_windowVisibleSize","_renderMaxResolution","_orientationChangeTimeout","_registerModule","publicMethods","push","_getLoopedId","numSlides","_getNumItems","_listeners","_shout","listeners","prototype","shift","apply","_getCurrentTime","_applyBgOpacity","opacity","_bgOpacity","bg","_applyZoomTransform","styleObj","zoom","_applyCurrentZoomPan","allowRenderResolution","_currZoomElementStyle","_setImageSize","_applyZoomPanToItem","container","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","m","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","p","_mouseMoveTimeout","_onFirstMouseMove","_bindEvents","transform","_unbindEvents","scroll","_isDragging","_calculatePanBounds","bounds","_calculateItemSize","_currPanBounds","_getMinZoomLevel","_getMaxZoomLevel","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","min","_setupTransforms","allow3dTransform","perspective","left","zoomRatio","s","_onKeyDown","keydownAction","keyCode","ctrlKey","altKey","shiftKey","metaKey","preventDefault","returnValue","_onGlobalClick","_moved","_zoomStarted","_mainScrollAnimating","_verticalDragInitiated","_updatePageScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","b","endProp","easingFn","onUpdate","onComplete","startAnimTime","animloop","viewportSize","isMainScrollAnimating","isDragging","isZooming","_isZooming","applyZoomPan","panX","panY","itemHolders","wrap","display","resize","updateSize","orientationchange","clientWidth","keydown","click","oldPhone","animationName","isNaN","_getItemAt","setAttribute","position","rootClasses","mainClass","setContent","updateCurrItem","_showOrHide","destroy","_showOrHideTimeout","_stopDragUpdateLoop","panTo","force","goTo","diff","updateCurrZoomItem","emulateSetContent","zoomElement","center","invalidateCurrItems","needsUpdate","beforeAnimation","diffAbs","abs","tempHolder","pop","unshift","prevItem","windowScrollY","innerWidth","innerHeight","holder","hIndex","cleanSlide","centerPoint","speed","updateFn","initialPanOffset","MIN_SWIPE_DISTANCE","DIRECTION_CHECK_OFFSET","_gestureStartTime","_gestureCheckSpeedTime","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_releaseAnimData","_posPoints","_tempPoint","_isZoomingIn","_oldAndroidTouchEndTimeout","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_isMultitouch","_dragAnimFrame","_mainScrollShifted","_currentPoints","_currPointsDistance","_startPointsDistance","_currCenterPoint","_direction","_isFirstMove","_opacityChanged","_wasOverInitialZoom","_isEqualPoints","_isNearbyPoints","touch0","touch1","_calculatePointsDistance","sqrt","_dragUpdateLoop","_renderMovement","_canPan","_closestElement","parentNode","_preventObj","_preventDefaultEventBehaviour","_convertTouchToPoint","pageX","pageY","identifier","_findCenterOfPoints","pCenter","_pushPosPoint","time","o","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_tempCounter","_getTouchPoints","touches","forEach","_panOrMoveMainScroll","panFriction","overDiff","newOffset","startOverDiff","dir","newMainScrollPosition","mainScrollDiff","newPanPos","newMainScrollPos","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_onDragMove","touchesList","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","minusDiff","percent","opacityRatio","mainScrollChanged","_onDragRelease","splice","MSPOINTER_TYPES","touchList","gestureType","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","itemChanged","_finishSwipeMainScrollGesture","_completeZoomGesture","_completePanGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","pos","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemsDiff","totalShiftDist","isFastLastFlick","nextCircle","animateToX","animateToDist","finishAnimDuration","touchesDistance","destOpacity","initialOpacity","initGestures","addEventNames","pref","down","move","up","cancel","maxTouchPoints","msMaxTouchPoints","mousedown","mousemove","mouseup","completeFn","_initialContentSet","thumbBounds","initialLayout","getThumbBoundsFn","duration","removeAttribute","startAnimation","closeWithRaf","fadeEverything","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_items","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","preload","_initialIsLoop","_getZeroBounds","_calculateSingleItemPanBounds","realPanElementW","realPanElementH","isInitial","hRatio","vRatio","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","loaded","placeholder","_preloadImage","loadComplete","onload","onerror","_checkForError","cleanUp","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","html","placeholderClassName","msrc","tapTimer","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","dispatchEvent","initTap","onTapStart","onTapRelease","p0","clickedTagName","_wheelDelta","initDesktopZoom","setupDesktopZoom","events","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","newPanX","newPanY","doubleTapZoomLevel","zoomOut","_historyDefaultOptions","history","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_getHash","hash","substring","_cleanHistoryTimeouts","_parseItemIndexFromURL","params","pair","galleryPIDs","searchfor","_updateHash","newHash","newURL","initHistory","updateURL","onHashChange","returnToOriginal","back","pushState","pathname","search"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2]}