{"version":3,"file":"src_app_content_applications_chat_chats_module_ts.js","mappings":"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","sources":["./src/app/_api/chat/chat.service.ts","./src/app/content/applications/chat/chats.component.ts","./src/app/content/applications/chat/chats.component.html","./src/app/content/applications/chat/chats.module.ts","./src/app/content/applications/chat/static-chat/static-chat.component.ts","./src/app/content/applications/chat/static-chat/static-chat.component.html","./node_modules/firebase/firestore/dist/esm/index.esm.js"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Chats } from 'src/app/content/applications/chat/chats';\nimport { Observable } from 'rxjs';\nimport { Timestamp, FieldValue, arrayUnion } from \"firebase/firestore\";\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChatService {\n\n  constructor(private afs: AngularFirestore) { }\n\n  getChats() {\n    return this.afs.collection('chatroom').snapshotChanges();\n  }\n\n  createChatRoom(data) {\n    return this.afs.collection('chatroom').add(data);\n  }\n\n  showChat(id): Observable<Chats> {\n    const chat = this.afs.doc<Chats>('chatroom/' + id);\n    return chat.snapshotChanges()\n      .pipe(\n        map(changes => {\n          const data = changes.payload.data() as Chats;\n          const chatId = changes.payload.id;\n          return { chatId, ...data };\n        }));\n  }\n\n  sendMessage(chatId, data) {\n    return this.afs.collection('chatroom').doc(chatId).update({\n      chatHistory: arrayUnion(data)\n    });\n  }\n\n  updateChatStatus (chatId, history) {\n    return this.afs.collection('chatroom').doc(chatId).update({\n      chatHistory: history\n    });\n  }\n}\n","import { Component, OnInit, AfterViewInit, ViewChild, Renderer2, ViewChildren, QueryList, ElementRef } from '@angular/core';\nimport { PerfectScrollbarConfigInterface, PerfectScrollbarComponent, PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\nimport { UserService } from '../../../../../src/app/_api/user/user.service';\nimport { ChatService } from '../../../../../src/app/_api/chat/chat.service';\nimport { Chats } from './chats';\nimport { AppConstants } from '../../../_helpers/app.constants';\nimport * as _ from 'lodash';\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chats.component.html',\n  styleUrls: ['./chats.component.css']\n})\n\nexport class ChatsComponent implements OnInit, AfterViewInit {\n  showicon: boolean;\n  name: any;\n  isicon: boolean;\n  isactive: boolean;\n  isSelected: boolean;\n  chatArray: any;\n  status = true;\n  newMessage = '';\n  contactId: string;\n  messageInfo: any;\n  userInfo: any;\n  public displayName: boolean;\n  public config: PerfectScrollbarConfigInterface = { wheelPropagation: false };\n\n  @ViewChild('chatPS') public chatPS?: PerfectScrollbarComponent;\n  @ViewChild(PerfectScrollbarDirective, { static: true })\n  directiveRef?: PerfectScrollbarDirective;\n  @ViewChildren('messages') messages: QueryList<any>;\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  contactList = [];\n  contactChats = [];\n  headerName: string;\n  headerImage: any;\n  showChatInProgress = false;\n  createInProgress = false;\n  contactMaster = this.contactList;\n  chatListMaster = [];\n  temp = [];\n  loggedInUser = JSON.parse(localStorage.getItem('currentUser'));\n  currentUserUid = this.loggedInUser.uid;\n\n  currentUser = ''; // UID of user 1\n  clickedUser = ''; // UID of user 2\n  chatList = [];\n  displayChat = [];\n  chatId = '';\n  senderImage = '';\n  currentUserImage = '';\n  loadContacts = false;\n  prevMsg = '';\n\n\n  /**\n   * Constructor\n   *\n   * @param ApplicationApiService  chatApiService;\n   * @param Renderer2              renderer\n   */\n  constructor(\n    private renderer: Renderer2,\n    private userService: UserService,\n    private chatService: ChatService) {\n  }\n\n  /**\n   * Scroll chat to bottom\n   */\n  ngAfterViewInit() {\n    this.messages.forEach(this.scrollToBottom);\n    this.messages.changes.subscribe(this.scrollToBottom);\n  }\n\n  getLoggedInUserChats () {\n    if (this.contactChats) {\n      const chatsWithHistory = this.contactChats.filter((item: Chats) => {\n        return item.chatHistory.length > 0;\n      });\n      const loggedInUserChats = chatsWithHistory.filter(chatHistory => {\n        return chatHistory.name.indexOf(this.loggedInUser.uid) !== -1;\n      });\n      return loggedInUserChats;\n    }\n    return [];\n  }\n\n  /**\n   * OnInit\n   */\n  ngOnInit() {\n      this.userService.getUsers().subscribe(users => {\n      let contactList = users.map(item => {\n        return {\n          ...item.payload.doc.data() as {},\n          id: item.payload.doc['id']\n        };\n      });\n      contactList = contactList.filter(element => {\n        return this.loggedInUser.uid !== element['uid'];\n      });\n      this.contactMaster = contactList;\n      this.chatService.getChats().subscribe(chats => {\n        this.chatList = [];\n        this.contactList = [];\n        const chatRooms = chats.map(item => {\n          return {\n            ...item.payload.doc.data() as Chats,\n            id: item.payload.doc['id']\n          };\n        });\n        this.contactChats = chatRooms;\n        const loggedInUserChats = this.getLoggedInUserChats();\n\n        const contactListMap = [];\n        const chatListMap = [];\n\n        this.contactMaster.forEach(element => {\n          const userChat = this.isChatExistsWithUser(loggedInUserChats, element.uid);\n          if (userChat && !chatListMap[element.uid]) {\n            element['chatRoomId'] = userChat['id'];\n            if (userChat['chatHistory'] && userChat['chatHistory'].length > 0) {\n              const unreadMessages = userChat['chatHistory'].filter( history => {\n                return history.uid !== this.loggedInUser.uid && history.status === 'send';\n              });\n              if (unreadMessages.length > 0 && this.clickedUser !== element.uid) {\n                element['unreadMessageCount'] = unreadMessages.length;\n              } else {\n                element['unreadMessageCount'] = 0;\n              }\n              element['chatHistory'] = userChat['chatHistory'];\n            }\n            chatListMap[element.uid] = true;\n            this.chatList.push(element);\n            this.chatListMaster.push(element);\n          } else if (!contactListMap[element.uid]) {\n            contactListMap[element.uid] = true;\n            this.contactList.push(element);\n          }\n        });\n        this.chatList = _.orderBy(this.chatList, [user => user.name.toLowerCase()], ['asc']);\n        this.contactList = _.orderBy(this.contactList, [user => user.name && user.name.toLowerCase()], ['asc']);\n        this.currentUserImage = this.loggedInUser.photoURL;\n        this.senderImage = this.contactList[0].image;\n        this.createInProgress = false;\n      });\n    });\n\n  }\n\n  isChatExistsWithUser (userChats, userId) {\n    for (let index = 0; index < userChats.length; index++) {\n      if (userChats[index].name.indexOf(userId) !== -1) {\n        return userChats[index];\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Chat scroll to bottom\n   */\n  scrollToBottom = () => {\n    try {\n      this.content.nativeElement.scrollTop = this.content.nativeElement.scrollHeight;\n      this.chatPS.directiveRef.scrollToBottom(0, 500);\n    } catch (err) { }\n  }\n\n  /**\n   * Filter Chat\n   *\n   * @param event     search event\n   */\n  searchContact (event) {\n    const value = event.target.value.toLowerCase();\n    // filter our data\n    let temp = this.contactMaster.filter(function (d) {\n      return d.name && d.name.toLowerCase().indexOf(value) !== -1 || !value;\n    });\n    const loggedInUserChats = this.getLoggedInUserChats();\n    const _self = this;\n    temp = temp.filter(function (user) {\n      return !_self.isChatExistsWithUser(loggedInUserChats, user.uid);\n    });\n    // update the rows\n    this.contactList = [];\n    const contactListMap = [];\n    temp.forEach(element => {\n      if (!contactListMap[element.uid]) {\n        contactListMap[element.uid] = true;\n        this.contactList.push(element);\n      }\n    });\n\n    // filter our data\n    const tempChat = this.chatListMaster.filter(function (d) {\n      return d.name && d.name.toLowerCase().indexOf(value) !== -1 || !value;\n    });\n    // update the rows\n    this.chatList = [];\n    const chatListMap = [];\n    tempChat.forEach(element => {\n      if (!chatListMap[element.uid]) {\n        chatListMap[element.uid] = true;\n        this.chatList.push(element);\n      }\n    });\n  }\n\n  /**\n   * Send message\n   */\n  sendMessage() {\n    if (this.newMessage !== null && this.newMessage !== '') {\n      this.messageInfo = {\n        message: this.newMessage,\n        date: Date.now(),\n        uid: this.loggedInUser.uid,\n        status: 'send'\n      };\n      if (this.chatId !== '') {\n        this.chatService.sendMessage(this.chatId, this.messageInfo);\n      } else {\n        this.currentUser = this.loggedInUser.uid;\n        const roomName = (this.currentUser < this.clickedUser ? this.currentUser + '_' +\n          this.clickedUser : this.clickedUser + '_' + this.currentUser);\n        this.userInfo = {\n          uid: this.loggedInUser.uid,\n          name: roomName,\n          image: this.loggedInUser.photoURL,\n          time: Date.now(),\n          showMessage: '',\n          badge: '',\n          showicon: true,\n          isicon: false,\n          isactive: 'online',\n          isSelected: false,\n          chatHistory: []\n        };\n        // Add message to box before sending\n        this.displayChat.push(this.messageInfo);\n        this.createInProgress = true;\n        this.chatService.createChatRoom(this.userInfo).then(chatRoom => {\n          this.chatId = chatRoom.id;\n          this.loadChatRoom(chatRoom.id);\n          this.chatService.sendMessage(this.chatId, this.messageInfo);\n          this.createInProgress = false;\n        });\n      }\n      this.newMessage = null;\n    }\n  }\n\n  /**\n   * Message send on Enter\n   *\n   * @param value       New message\n   */\n  onEnter(value: string) {\n    this.newMessage = value;\n    this.sendMessage();\n  }\n\n  /**\n   * Display chat when click on contact\n   *\n   * @param friendId      Friend id\n   */\n  showChat(data) {\n    if (this.showChatInProgress || this.createInProgress) {\n      return;\n    }\n    this.showChatInProgress = true;\n    this.currentUser = this.loggedInUser.uid;\n    this.currentUserImage = this.loggedInUser.photoURL;\n    this.clickedUser = data.uid;\n    this.contactId = data.id;\n    this.senderImage = data.image;\n    this.showHeaderData();\n    const roomName = (this.currentUser < this.clickedUser ? this.currentUser + '_' +\n      this.clickedUser : this.clickedUser + '_' + this.currentUser);\n\n    this.userInfo = {\n      uid: this.loggedInUser.uid,\n      name: roomName,\n      image: this.loggedInUser.photoURL,\n      time: Date.now(),\n      showMessage: '',\n      badge: '',\n      showicon: true,\n      isicon: false,\n      isactive: 'online',\n      isSelected: false,\n      chatHistory: []\n    };\n\n    if (this.contactChats.length === 0) {\n      this.createAndLoadChatRoom();\n    } else if (this.contactChats.length !== 0) {\n      let chatExists = false;\n      for (let i = 0; i < this.contactChats.length; i++) {\n        const room = this.contactChats[i].name;\n        if (room === roomName) {\n          chatExists = true;\n          this.chatId = this.contactChats[i].id;\n          break;\n        }\n      }\n      if (!chatExists) {\n        this.createAndLoadChatRoom();\n      } else {\n        // subscribe\n        this.loadChatRoom(this.chatId);\n        this.showChatInProgress = false;\n        this.userInfo.isSelected = true;\n      }\n    }\n  }\n\n  createAndLoadChatRoom() {\n    this.createInProgress = true;\n    this.chatService.createChatRoom(this.userInfo).then(chatRoom => {\n      this.chatId = chatRoom.id;\n      this.loadChatRoom(chatRoom.id);\n    });\n  }\n\n  setUserImage(chatHistory) {\n    for (let i = 0; i < chatHistory.length; i++) {\n      if (chatHistory.length > 0) {\n        if (i > 0) {\n          this.prevMsg = chatHistory[i - 1];\n        }\n        if (i > 0 && chatHistory[i].uid === this.prevMsg['uid']) {\n          continue;\n        }\n        if (chatHistory[i].uid === this.loggedInUser.uid) {\n          chatHistory[i]['userImage'] = this.currentUserImage;\n        } else {\n          chatHistory[i]['userImage'] = this.senderImage;\n        }\n      }\n    }\n  }\n\n  loadMyChatRoom(selectedUser) {\n    this.chatId = selectedUser.chatRoomId;\n    this.loadChatRoom(selectedUser.chatRoomId);\n    this.clickedUser = selectedUser.uid;\n    this.contactId = selectedUser.id;\n    this.senderImage = selectedUser.image;\n    this.headerName = selectedUser.name;\n    this.headerImage = selectedUser.image;\n    this.setHistoryAsRead(selectedUser, selectedUser.chatRoomId, selectedUser.chatHistory);\n  }\n\n  setHistoryAsRead (selectedUser, chatRoomId, history) {\n    let unreadMsgExists = false;\n    history.forEach(element => {\n      if (element.uid !== this.loggedInUser.uid && element.status !== 'read') {\n        element.status = 'read';\n        unreadMsgExists = true;\n      }\n    });\n    if (unreadMsgExists) {\n      this.chatService.updateChatStatus(chatRoomId, history).then(result => {\n        delete selectedUser.unreadMessageCount;\n      });\n    }\n  }\n\n  loadChatRoom(chatRoomId) {\n    this.chatService.showChat(chatRoomId).subscribe(res => {\n      if (chatRoomId === this.chatId) {\n        this.setUserImage(res.chatHistory);\n        this.displayChat = res['chatHistory'];\n        this.chatId = res['chatId'];\n      }\n      this.showChatInProgress = false;\n      this.scrollToBottom();\n    });\n  }\n\n  showDefaultChat() {\n    this.currentUser = this.loggedInUser.uid;\n    const roomName = (this.currentUser < this.clickedUser ? this.currentUser + '_' +\n      this.clickedUser : this.clickedUser + '_' + this.currentUser);\n    for (let j = 0; j < this.contactChats.length; j++) {\n      if (this.contactChats[j].name === roomName) {\n        if (this.contactChats[j].chatHistory && this.contactChats[j].chatHistory.length > 0) {\n          this.displayChat = this.contactChats[j].chatHistory;\n          this.setUserImage(this.contactChats[j].chatHistory);\n        }\n        this.chatId = this.contactChats[j].id;\n      }\n    }\n  }\n\n  showLastMessage() {\n    for (let i = 0; i < this.contactList.length; i++) {\n      if (this.contactList[i]) {\n        for (let j = 0; j < this.contactChats.length; j++) {\n          const room = this.contactChats[j].name;\n          const index = room.indexOf(this.contactList[i].uid);\n          const currentUser = this.loggedInUser.uid;\n          const userUid = this.contactList[i].uid;\n          const roomName = (currentUser < userUid ? currentUser + '_' +\n            userUid : userUid + '_' + currentUser);\n          if (index >= 0) {\n            if (this.contactChats[j].chatHistory.length > 0 && roomName === room) {\n              this.contactList[i]['lastmsg'] = this.contactChats[j].chatHistory[this.contactChats[j].chatHistory.length - 1].message;\n              this.contactList[i]['isActive'] = this.contactChats[j].isactive;\n              this.contactList[i]['icon'] = this.contactChats[j].isicon;\n              this.contactList[i]['showicon'] = this.contactChats[j].showicon;\n              this.contactList[i]['lastmsgTime'] = this.contactChats[j].chatHistory[this.contactChats[j].chatHistory.length - 1].date;\n            }\n          }\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Overlay add/remove fuction in responsive\n   *\n   * @param event     Overlay click event\n   */\n\n  contentOverlay(event) {\n    const toggleIcon = document.getElementById('chat-overlay1');\n    const toggle = document.getElementById('chat-area d-none');\n    if (event.currentTarget.className === 'chatSidebar ng-star-inserted') {\n      this.renderer.addClass(toggleIcon, 'd-none');\n      this.renderer.removeClass(toggle, 'd-none');\n    }\n  }\n  /**\n  * Show add/remove class at open profile\n  *\n  * @param event    Overlay click event\n  */\n showProfile(event) {\n  const toggleIcon = document.getElementById('user-profile');\n  const toggle = document.getElementById('overlayChat');\n  if (event.currentTarget.className === 'chat-sidebar-profile-toggle') {\n    this.renderer.addClass(toggleIcon, 'show');\n   this.renderer.addClass(toggle, 'show');\n  } else if (event.currentTarget.className === 'chat-profile-close') {\n    this.renderer.removeClass(toggleIcon, 'show');\n  this.renderer.removeClass(toggle, 'show');\n  }\n}\n  /**\n   * Show add/remove function in responsive\n   *\n   * @param event    Overlay click event\n   */\n  Sidebar(event) {\n    const toggleChat = document.getElementById('sidebar-card');\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'chat-sidebar-close' || 'chat-overlay') {\n      this.renderer.removeClass(toggle, 'show');\n      this.renderer.removeClass(toggleIcon, 'show');\n      this.renderer.removeClass(toggleChat, 'show');\n    }\n  }\n  /**\n  * Show add/remove function in responsive\n  *\n  * @param event    Overlay click event\n  */\n  showSidebar(event) {\n    if (window.innerWidth < AppConstants.MOBILE_RESPONSIVE_WIDTH) {\n      const toggleIcon = document.getElementById('sidebar-card');\n      const toggle = document.getElementById('overlayChat');\n      const toggleChat = document.getElementById('sidebar-left');\n      if (event.currentTarget.className === 'ficon feather ft-message-square chat-sidebar-toggle chat-start-icon font-large-3 p-3 mb-1' ||\n        'ficon feather ft-align-justify font-large-1 cursor-pointer') {\n        this.renderer.addClass(toggle, 'show');\n        this.renderer.addClass(toggleIcon, 'show');\n      }\n      if (window.innerWidth < AppConstants.MOBILE_RESPONSIVE_WIDTH) {\n            this.renderer.removeClass(toggleChat, 'sidebar-fixed');\n          }\n    }\n  }\n  // FixChat() {\n  //   const toggleIcon = document.getElementById('sidebar-left');\n  //   if (window.innerWidth < AppConstants.MOBILE_RESPONSIVE_WIDTH) {\n  //     this.renderer.removeClass(toggleIcon, 'sidebar-fixed');\n  //   }\n  // }\n  chatFavorite(event) {\n    const chatIcon = document.getElementById('chat-icon');\n    if (event.currentTarget.className === 'chat-icon-favorite') {\n      this.renderer.addClass(chatIcon, 'warning');\n    } else if (event.currentTarget.className === 'chat-icon-favorite warning') {\n      this.renderer.removeClass(chatIcon, 'warning');\n    }\n  }\n\n  showHeaderData() {\n    this.contactList.forEach(element => {\n      if (this.clickedUser === element['uid']) {\n        this.headerName = element.name;\n        this.headerImage = element.image;\n      }\n    });\n  }\n  /**\n    * Show add/remove function\n    *\n    * @param event    Overlay click event\n    */\n  ShowChatProfile(event) {\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'avatar chat-profile-toggle m-0 mr-1') {\n      this.renderer.addClass(toggleIcon, 'show');\n      this.renderer.addClass(toggle, 'show');\n    }\n  }\n  /**\n    * Show add/remove function\n    *\n    * @param event    Overlay click event\n    */\n  ChatProfile(event) {\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'chat-profile-close') {\n      this.renderer.removeClass(toggleIcon, 'show');\n      this.renderer.removeClass(toggle, 'show');\n    }\n  }\n\n}\n","<div class=\"app-content content\" >\n  <div class=\"sidebar-left\"  id=\"sidebar-left\">\n    <div class=\"sidebar\"><!-- app chat user profile left sidebar start -->\n<div class=\"chat-user-profile\" id=\"user-profile\" >\n  <header class=\"chat-user-profile-header text-center border-bottom\">\n <span class=\"chat-profile-close\" (click)=\"showProfile($event)\" >\n  <i class=\"ficon feather ft-x\" ></i>\n</span>\n<div class=\"my-2\">\n  <img *ngIf=\"loggedInUser.photoURL\" src=\"{{loggedInUser.photoURL}}\" class=\"round mb-1\" alt=\"user_avatar\" height=\"100\" width=\"100\" >\n  <img *ngIf=\"!loggedInUser.photoURL\" src=\"../../../../assets/images/portrait/small/avatar-s-19.png\" class=\"round mb-1\" alt=\"user_avatar\"\n    alt=\"avatar\"  height=\"100\" width=\"100\" >\n  <!-- <img src=\"../../../assets/images/portrait/small/avatar-s-16.png\" class=\"round mb-1\" alt=\"user_avatar\"\n    height=\"100\" width=\"100\" > -->\n\n  <h5 class=\"mb-0\">{{loggedInUser.displayName}}</h5>\n  <span>Designer</span>\n</div>\n</header>\n<div class=\"chat-user-profile-content\">\n<div class=\"chat-user-profile-scroll\" fxFlex=\"auto\" [perfectScrollbar]=\"config\">\n  <h6 class=\"text-uppercase mb-1\">ABOUT</h6>\n  <p class=\"mb-2\">It is a long established fact that a reader will be distracted by the readable content .</p>\n  <h6>PERSONAL INFORAMTION</h6>\n  <ul class=\"list-unstyled mb-2\">\n    <li class=\"mb-25\">email@gmail.com</li>\n    <li>+1(789) 950 -7654</li>\n  </ul>\n  <h6 class=\"text-uppercase mb-1\">CHANNELS</h6>\n  <ul class=\"list-unstyled mb-2\">\n    <li><a href=\"\"># Devlopers</a></li>\n    <li><a href=\"\"># Designers</a></li>\n  </ul>\n  <h6 class=\"text-uppercase mb-1\">SETTINGS</h6>\n  <ul class=\"list-unstyled\">\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-tag mr-50\"></i>\n        Add\n        Tag</a></li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-star mr-50\"></i>\n        Important Contact</a>\n    </li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i\n          class=\"ficon feather ft-image mr-50\"></i>\n        Shared\n        Documents</a></li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i\n          class=\"ficon feather ft-trash-2 mr-50\"></i>\n        Deleted\n        Documents</a></li>\n    <li><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-x-circle mr-50\"></i> Blocked\n        Contact</a></li>\n  </ul>\n  </div>\n</div>\n</div>\n<!-- app chat user profile left sidebar ends -->\n<!-- app chat sidebar start -->\n<div class=\"chat-sidebar card\" id=\"sidebar-card\">\n<span class=\"chat-sidebar-close\" (click) = \"Sidebar($event)\">\n<i class=\"ficon feather ft-x\" ></i>\n</span>\n<div class=\"chat-sidebar-search\">\n<div class=\"d-flex align-items-center\">\n  <div class=\"chat-sidebar-profile-toggle\" (click)=\"showProfile($event)\">\n    <div class=\"avatar\">\n      <img *ngIf=\"loggedInUser.photoURL\" src=\"{{loggedInUser.photoURL}}\" class=\"cursor-pointer\" alt=\"user_avatar\" height=\"36\" width=\"36\">\n      <img *ngIf=\"!loggedInUser.photoURL\" src=\"../../../../assets/images/portrait/small/avatar-s-19.png\"\n        alt=\"avatar\" height=\"36\" width=\"36\">\n      <!-- <img src=\"../../../assets/images/portrait/small/avatar-s-16.png\" class=\"cursor-pointer\" alt=\"user_avatar\"\n        height=\"36\" width=\"36\"> -->\n    </div>\n  </div>\n  <fieldset class=\"form-group position-relative has-icon-left mx-75 mb-0\">\n    <input type=\"text\" class=\"form-control round\" id=\"chat-search\" (keyup)=\"searchContact($event)\"  placeholder=\"Search\">\n    <div class=\"form-control-position\">\n      <i class=\"ficon feather ft-search text-dark\"></i>\n    </div>\n  </fieldset>\n</div>\n</div>\n<div class=\"chat-sidebar-list-wrapper pt-2 \" fxFlex=\"auto\" [perfectScrollbar]=\"config\" >\n<h6 class=\"px-2 pb-25 mb-0\">CHANNELS<i class=\"ficon feather ft-plus float-right cursor-pointer\"></i></h6>\n<ul class=\"chat-sidebar-list\">\n  <li>\n    <h6 class=\"mb-0\"># Devlopers</h6>\n  </li>\n  <li>\n    <h6 class=\"mb-0\"># Designers</h6>\n  </li>\n</ul>\n<h6 class=\"px-2 pt-2 pb-25 mb-0\">CHATS</h6>\n<ul class=\"chat-sidebar-list\" >\n  <li class = \"chatSidebar\" *ngFor=\"let chat of chatList\" id=\"users-list\"  (click)=\"loadMyChatRoom(chat)\" (click)=\"contentOverlay($event)\"\n  id=\"_media\" [ngClass]=\"(chat.uid === clickedUser) ? 'active': ''\">\n    <div class=\"d-flex align-items-center\" >\n      <div class=\"avatar m-0 mr-50\" ><img [src]=\"chat.image\" height=\"36\"\n          width=\"36\" >\n        <span class=\"avatar-status-busy\"></span>\n      </div>\n      <div class=\"chat-sidebar-name\">\n        <span class=\"mb-0\">{{chat.name}}</span>\n        <span class=\"badge badge-pill float-right badge-danger mr-2\">{{chat.unreadMessageCount ? chat.unreadMessageCount : ''}}</span>\n        <span class=\"text-muted\"></span>\n      </div>\n    </div>\n  </li>\n</ul>\n<h6 class=\"px-2 pt-2 pb-25 mb-0\">CONTACTS<i class=\"ficon feather ft-plus float-right cursor-pointer\"></i></h6>\n<ul class=\"chat-sidebar-list\" >\n  <li class = \"chatSidebar\" *ngFor=\"let contact of contactList\" (click)=\"showChat(contact)\" (click)=\"contentOverlay($event)\"\n  id=\"_media\" [ngClass]=\"(contact.uid === clickedUser) ? 'active': ''\">\n    <div class=\"d-flex align-items-center\">\n      <div class=\"avatar m-0 mr-50\"><img [src]=\"contact.image\" height=\"36\"\n        width=\"36\" >\n        <span class=\"avatar-status-away\"></span>\n      </div>\n      <div class=\"chat-sidebar-name\">\n        <h6 class=\"mb-0\">{{contact.name}}</h6><span class=\"text-muted\"> {{contact.showMessage}}</span>\n      </div>\n    </div>\n  </li>\n</ul>\n</div>\n</div>\n<!-- app chat sidebar ends -->\n\n    </div>\n  </div>\n <div class=\"content-right \">\n\n    <div class=\"content-overlay\" ></div>\n    <div class=\"content-wrapper\">\n      <div class=\"content-header row\">\n      </div>\n      <div class=\"content-body\"><!-- app chat overlay -->\n<div class=\"chat-overlay \"  id=\"overlayChat\" (click) = \"Sidebar($event)\"></div>\n<!-- app chat window start -->\n<section class=\"chat-window-wrapper\">\n<div class=\"chat-start\" id='chat-overlay1'>\n<span class=\"ficon feather ft-message-square chat-sidebar-toggle chat-start-icon font-large-3 p-3 mb-1\"  (click)=\"showSidebar($event)\" ></span>\n<h4 class=\"d-none d-lg-block py-50 text-bold-500\">Select a contact to start a chat!</h4>\n<button class=\"btn btn-light-primary chat-start-text chat-sidebar-toggle d-block d-lg-none py-50 px-1\" (click)=\"showSidebar($event)\" >Start\n  Conversation!</button>\n</div>\n<div class=\"chat-area d-none\" id = \"chat-area d-none\">\n  <div class=\"chat-header\">\n    <header class=\"d-flex justify-content-between align-items-center px-1 py-75\">\n      <div class=\"d-flex align-items-center\" >\n        <div class=\"chat-sidebar-toggle d-block d-lg-none mr-1\" id=\"chat-sidebar\"><i\n            class=\"ficon feather ft-align-justify font-large-1 cursor-pointer\" (click)=\"showSidebar($event)\"></i>\n        </div>\n        <div class=\"avatar chat-profile-toggle m-0 mr-1\" (click)=\"ShowChatProfile($event)\">\n           <span >\n           <img [src]=\"headerImage\" class=\"cursor-pointer\" alt=\"avatar\"/>\n        </span>\n          <span class=\"avatar-status-busy\"></span>\n        </div>\n        <h6 class=\"mb-0\">{{headerName}}</h6>\n      </div>\n      <div class=\"chat-header-icons\">\n\n        <span class=\"chat-icon-favorite\" id='chat-icon'(click)=\"chatFavorite($event)\" >\n          <i class=\"ficon feather ft-star font-medium-5 cursor-pointer\"></i>\n         </span>\n        <span class=\"dropdown\">\n\n            <span ngbDropdown [open]=\"false\" [autoClose]=\"true\" class=\"d-inline-block\">\n              <i class=\"ficon feather ft-more-vertical font-medium-4 ml-25 cursor-pointer dropdown-toggle nav-hide-arrow cursor-pointer\"\n            id=\"dropdownMenuButton\" dropdown-menu dropdown-menu-left show data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" role=\"menu\" ngbDropdownToggle>\n          </i>\n              <div ngbDropdownMenu =\"dropdownMenuButton\">\n                <a class=\"dropdown-item\">Pin to top</a>\n                <a class=\"dropdown-item\">Delete chat</a>\n                <a class=\"dropdown-item \">Block</a>\n                </div>\n            </span>\n\n         </span>\n\n\n    </div>\n    </header>\n  </div>\n<!-- chat card start -->\n<div class=\"card chat-wrapper shadow-none mb-0\">\n  <div class=\"card-content\">\n    <div class=\"card-body chat-container\" id=\"componentRef\">\n      <perfect-scrollbar [config]=\"config\" #chatPS>\n        <div class=\"chat-content\" #content>\n            <div id=\"chatWindow\" class=\"chat\" [ngClass]=\"(currentUserUid === messages.uid)?'chat-right':'chat-left'\"\n              *ngFor=\"let messages of displayChat\">\n              <div class=\"chat-avatar\">\n                <a [routerLink]=\"\" class=\"avatar m-0\">\n                  <img [src]=\"messages.userImage\" *ngIf=\"messages.userImage\"/>\n                </a>\n              </div>\n              <div class=\"chat-body\">\n                <div class=\"chat-message\">\n                  <p>{{messages.message}}</p>\n                  <span class=\"chat-time\" title=\"{{messages.date | date}}\">{{messages.date| date: 'HH:mm a'}}</span>\n                </div>\n              </div>\n            </div>\n        </div>\n      </perfect-scrollbar>\n    </div>\n  </div>\n  <div class=\"card-footer chat-footer px-2 py-1 pb-0\">\n    <form class=\"d-flex align-items-center\">\n         <i class=\"ficon feather ft-user cursor-pointer\"></i>\n          <i class=\"ficon feather ft-paperclip ml-1 cursor-pointer\"></i>\n         <input type=\"text\" class=\"form-control chat-message-send mx-1\" [(ngModel)]=\"newMessage\" name=\"newmessage\" id=\"iconLeft4\"\n          placeholder=\"Type your message here....\" #box (keyup.enter)=\"onEnter(box.value)\">\n        <button type=\"submit\" class=\"btn btn-primary glow send d-lg-flex\" (click)=\"sendMessage()\"><i class=\"ficon feather ft-play\"></i>\n          <span class=\"d-none d-lg-block mx-50\">Send</span></button>\n        </form>\n  </div>\n</div>\n<!-- chat card ends -->\n</div>\n</section>\n<section class=\"chat-profile \" id=\"chat-profile\">\n  <header class=\"chat-profile-header text-center border-bottom\">\n    <span class=\"chat-profile-close\" (click)=\"ChatProfile($event)\">\n      <i class=\"ficon feather ft-x\"></i>\n    </span>\n    <div class=\"my-2\">\n\n      <img [src]=\"headerImage\" class=\"round mb-1\" alt=\"chat avatar\"\n        height=\"100\" width=\"100\">\n\n      <h5 class=\"app-chat-user-name mb-0\">{{headerName}}</h5>\n      <span>Devloper</span>\n    </div>\n  </header>\n  <div class=\"chat-profile-content p-2\">\n    <h6 class=\"mt-1\">ABOUT</h6>\n    <p>It is a long established fact that a reader will be distracted by the readable content.</p>\n    <h6 class=\"mt-2\">PERSONAL INFORMATION</h6>\n    <ul class=\"list-unstyled\">\n      <li class=\"mb-25\">email@gmail.com</li>\n      <li>+1(789) 950-7654</li>\n    </ul>\n  </div>\n</section>\n<!-- app chat window ends -->\n      </div>\n    </div>\n  </div>\n\n</div>\n<!-- END: Content-->\n\n<!-- app chat profile right sidebar ends -->\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChatsComponent } from './chats.component';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\nimport { ChatService } from 'src/app/_api/chat/chat.service';\nimport { StaticChatComponent } from './static-chat/static-chat.component';\nimport { ApplicationApiService } from 'src/app/_services/application-api.service';\nimport { ToastrModule } from 'ngx-toastr';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    NgbModule,\n    ToastrModule.forRoot(),\n    PerfectScrollbarModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ChatsComponent\n      },\n      {\n        path: 'static-chat',\n        component: StaticChatComponent\n      }\n    ])\n  ],\n  declarations: [ChatsComponent, StaticChatComponent],\n  providers: [ChatService, ApplicationApiService]\n})\nexport class ChatsModule { }\n","import {\n  Component, OnInit, AfterViewInit, ViewChild, Renderer2,\n  ViewChildren, QueryList, ElementRef\n} from '@angular/core';\nimport { PerfectScrollbarConfigInterface, PerfectScrollbarComponent, PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\nimport { ApplicationApiService } from '../../../../../../src/app/_services/application-api.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { AppConstants } from '../../../../_helpers/app.constants';\n/**\n * ChatHistory class\n */\nclass ChatHistory {\n  constructor(\n    public message: string[],\n    public sender: number,\n    public senderImage: string,\n    public senderName: string,\n    public time: string\n  ) { }\n}\nclass ChatHeader {\n  constructor(\n    public senderImage: string,\n    public senderName: string\n  ) { }\n}\nclass ContactHeader {\n  constructor(\n    public senderImage: string,\n    public senderName: string\n  ) { }\n}\n\n\n/**\n * Chats class\n */\nclass Chats {\n  constructor(\n    public friendId: number,\n    public name: string,\n    public image: string,\n    public showMessage: string,\n    public _ChatHistory: Array<ChatHistory>,\n    public chatHeader: Array<ChatHeader>,\n    public isSelected: false\n  ) { }\n}\n/**\n * Contact class\n */\nclass Contact {\n  constructor(\n    public friendId: number,\n    public name: string,\n    public image: string,\n    public showMessage: string,\n    public isSelected: false,\n    public contactHeader: Array<ContactHeader>,\n  ) {}\n  }\n@Component({\n  selector: 'app-static-chat',\n  templateUrl: './static-chat.component.html',\n  styleUrls: ['./static-chat.component.css']\n})\nexport class StaticChatComponent implements OnInit, AfterViewInit {\n  showicon: boolean;\n  isicon: boolean;\n  isactive: boolean;\n  isSelected: boolean;\n  chatArray: any;\n  headerArray: any;\n  status = true;\n  public contactChat = [];\n  public headerChat = [];\n  public Contact = [];\n  newMessage = '';\n  newMessageArray = [];\n\n  public config: PerfectScrollbarConfigInterface = { wheelPropagation: false };\n\n  @ViewChild(PerfectScrollbarComponent) componentRef?: PerfectScrollbarComponent;\n  @ViewChild(PerfectScrollbarDirective, { static: true }) directiveRef?: PerfectScrollbarDirective;\n\n  @ViewChildren('messages') messages: QueryList<any>;\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  chatsList: any[] = [];\n  contactList: any[] = [];\n  temp = [];\n  temp2 = this.chatsList;\n  temp3 = this.contactList;\n  ContactHeader: any[] = [];\n\n  /**\n   * Constructor\n   *\n   * @param ApplicationApiService  chatApiService;\n   * @param Renderer2              renderer\n   */\n  constructor(\n    private chatApiService: ApplicationApiService,\n    private renderer: Renderer2,\n    private toastr: ToastrService) {\n    this.headerArray = this.chatApiService.getChatContactData().subscribe(Response => {\n      this.headerArray = Response;\n    });\n  }\n\n  /**\n   * Scroll chat to bottom\n   */\n  ngAfterViewInit() {\n    this.messages.forEach(this.scrollToBottom);\n    this.messages.changes.subscribe(this.scrollToBottom);\n  }\n\n  /**\n   * OnInit\n   */\n  ngOnInit() {\n    this.toastr.clear();\n     this.toastr.warning('', 'Please login through a personal account to experience the Live chat. We have it disabled for demo account.',\n      { timeOut: 5000, disableTimeOut: true, closeButton: true });\n    this.chatArray = this.chatApiService.getChatsData().subscribe(Response => {\n      this.chatArray = Response;\n      this.contactChat = this.chatArray[2].ChatHistory;\n        this.chatsList.push(\n        new Chats(\n          2,\n          'Kristopher Candy',\n          '../../../assets/images/portrait/small/avatar-s-7.png',\n\n          ' Thank you',\n\n          this.chatArray[1].ChatHistory,\n          this.chatArray[1].chatHeader,\n          false\n        )\n      );\n      this.chatsList.push(\n        new Chats(\n          3,\n          'Sarah Woods',\n          '../../../assets/images/portrait/small/avatar-s-8.png',\n\n            ' Hello krish!',\n\n          this.chatArray[2].ChatHistory,\n          this.chatArray[2].chatHeader,\n          false\n        )\n      );\n      this.contactList.push(\n        new Contact(\n          1,\n          'Kristopher Candy',\n          '../../../assets/images/portrait/small/avatar-s-9.png',\n          'lemon drops',\n          false,\n          this.headerArray[0].contactHeader,\n       )\n      );\n      this.contactList.push(\n        new Contact(\n          2,\n          'Jenny Perich',\n          '../../../assets/images/portrait/small/avatar-s-10.png',\n          'candy canes',\n          false,\n          this.headerArray[1].contactHeader,\n       )\n      );\n      this.contactList.push(\n        new Contact(\n          3,\n          'Rock Montgomery',\n          '../../../assets/images/portrait/small/avatar-s-11.png',\n          'powder gum',\n          false,\n          this.headerArray[2].contactHeader,\n        )\n      );\n      this.contactList.push(\n        new Contact(\n          4,\n          'Heather Howell',\n          '../../../assets/images/portrait/small/avatar-s-12.png',\n          'cheesecake toffee',\n          false,\n          this.headerArray[3].contactHeader,\n        )\n      );\n     });\n   }\n\n  /**\n   * Chat scroll to bottom\n   */\n  scrollToBottom = () => {\n    try {\n      this.content.nativeElement.scrollTop = this.content.nativeElement.scrollHeight;\n    } catch (err) { }\n  }\n\n  /**\n   * Filter Chat\n   *\n   * @param event     search event\n   */\n  updateFilter(event) {\n    const value = event.target.value.toLowerCase();\n    this.chatsList = [...this.temp2]; // and here you have to initialize it with your data\n    this.temp = [...this.chatsList];\n    // filter our data\n    const temp = this.chatsList.filter(function (d) {\n      return d.name.toLowerCase().indexOf(value) !== -1 || !value;\n    });\n    // update the rows\n    this.chatsList = temp;\n    // Whenever the filter changes, always go back to the first page\n  }\n  updateFilter1(event) {\n    const value = event.target.value.toLowerCase();\n    this.contactList = [...this.temp3]; // and here you have to initialize it with your data\n    this.temp = [...this.contactList];\n    // filter our data\n    const temp = this.contactList.filter(function (d) {\n      return d.name.toLowerCase().indexOf(value) !== -1 || !value;\n    });\n    // update the rows\n    this.contactList = temp;\n    // Whenever the filter changes, always go back to the first page\n  }\n  /**\n   * Send message\n   */\n  sendMessage() {\n    if (this.newMessage !== null && this.newMessage !== '') {\n      this.contactChat.push({\n        message: [this.newMessage],\n        sender: 0,\n        senderImage: '',\n        time: '3:35AM',\n      });\n      this.newMessage = null;\n    }\n  }\n\n  /**\n   * Message send on Enter\n   *\n   * @param value       New message\n   */\n  onEnter(value: string) {\n    this.newMessage = value;\n    if (this.newMessage !== null && this.newMessage !== '') {\n      this.contactChat.push({\n        message: [this.newMessage],\n        sender: 0,\n        senderImage: '',\n        time: '3:35AM'\n      });\n      this.newMessage = null;\n    }\n  }\n\n  /**\n   * Display chat when click on contact\n   *\n   * @param friendId      Friend id\n   */\n  showChat(friendId, number) {\n    this.contactChat = [];\n    if (number === 1) {\n      for (let i = 0; i < this.chatsList.length; i++) {\n        if (friendId !== this.chatsList[i].friendId) {\n          this.chatsList[i].isSelected = false;\n        }\n        if (friendId === this.chatsList[i].friendId) {\n          this.chatsList[i].isSelected = true;\n        }\n      }\n      for (let i = 0; i < this.contactList.length; i++) {\n        this.contactList[i].isSelected = false;\n      }\n\n      for (const friend of this.chatsList) {\n        if (friend.friendId === friendId) {\n          this.contactChat = this.chatArray[friendId - 1].ChatHistory;\n          this.headerChat = this.chatArray[friendId - 1].chatHeader;\n          break;\n        }\n      }\n\n    } else if (number === 2) {\n      for (let i = 0; i < this.contactList.length; i++) {\n        if (friendId !== this.contactList[i].friendId) {\n          this.contactList[i].isSelected = false;\n        }\n        if (friendId === this.contactList[i].friendId) {\n          this.contactList[i].isSelected = true;\n        }\n      }\n      for (let i = 0; i < this.chatsList.length; i++) {\n        this.chatsList[i].isSelected = false;\n      }\n      this.contactChat = [];\n      this.headerChat = this.headerArray[friendId - 1].contactHeader;\n    }\n  }\n\n\n\n\n  /**\n   * Overlay add/remove fuction in responsive\n   *\n   * @param event     Overlay click event\n   */\n  contentOverlay(event) {\n    const toggleIcon = document.getElementById('chat-overlay1');\n    const toggle = document.getElementById('chat-area d-none');\n    if (event.currentTarget.className === 'chatSidebar ng-star-inserted') {\n      this.renderer.addClass(toggleIcon, 'd-none');\n      this.renderer.removeClass(toggle, 'd-none');\n    }\n  }\n  /**\n  * Warning add/remove class\n  *\n  * @param event    click event\n  */\n  chatFavorite(event) {\n    const chatIcon = document.getElementById('chat-icon');\n    if (event.currentTarget.className === 'chat-icon-favorite') {\n      this.renderer.addClass(chatIcon, 'warning');\n    } else if (event.currentTarget.className === 'chat-icon-favorite warning') {\n      this.renderer.removeClass(chatIcon, 'warning');\n    }\n  }\n  showContact(friendId) {\n    this.contactChat = [];\n    for (let i = 0; i < this.contactList.length; i++) {\n      if (friendId !== this.contactList[i].friendId) {\n        this.contactList[i].isSelected = false;\n      }\n      if (friendId === this.contactList[i].friendId) {\n        this.contactList[i].isSelected = true;\n      }\n    }\n  }\n  /**\n  * Show add/remove class at open profile\n  *\n  * @param event    Overlay click event\n  */\n  showProfile(event) {\n    const toggleIcon = document.getElementById('user-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'chat-sidebar-profile-toggle') {\n      this.renderer.addClass(toggleIcon, 'show');\n     this.renderer.addClass(toggle, 'show');\n    } else if (event.currentTarget.className === 'chat-profile-close') {\n      this.renderer.removeClass(toggleIcon, 'show');\n    this.renderer.removeClass(toggle, 'show');\n    }\n  }\n  /**\n   * Show add/remove function in responsive\n   *\n   * @param event    Overlay click event\n   */\n  showSidebar(event) {\n    if (window.innerWidth < AppConstants.MOBILE_RESPONSIVE_WIDTH) {\n      const toggleIcon = document.getElementById('sidebar-card');\n      const toggle = document.getElementById('overlayChat');\n      const toggleChat = document.getElementById('sidebar-left');\n      if (event.currentTarget.className === 'ficon feather ft-message-square chat-sidebar-toggle chat-start-icon font-large-3 p-3 mb-1' ||\n        'ficon feather ft-align-justify font-large-1 cursor-pointer') {\n        this.renderer.addClass(toggle, 'show');\n        this.renderer.addClass(toggleIcon, 'show');\n      }\n      if (window.innerWidth < AppConstants.MOBILE_RESPONSIVE_WIDTH) {\n        this.renderer.removeClass(toggleChat, 'sidebar-fixed');\n      }\n    }\n  }\n  /**\n    * Show add/remove function in responsive\n    *\n    * @param event    Overlay click event\n    */\n  Sidebar(event) {\n    const toggleChat = document.getElementById('sidebar-card');\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'chat-sidebar-close' || 'chat-overlay show') {\n     this.renderer.removeClass(toggle, 'show');\n    this.renderer.removeClass(toggleChat, 'show');\n    this.renderer.removeClass(toggleIcon, 'show');\n    }\n  }\n  /**\n    * Show add/remove function\n    *\n    * @param event    Overlay click event\n    */\n  ShowChatProfile(event) {\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'avatar chat-profile-toggle m-0 mr-1') {\n      this.renderer.addClass(toggleIcon, 'show');\n      this.renderer.addClass(toggle, 'show');\n    }\n  }\n  /**\n  * Show add/remove function\n  *\n  * @param event    Overlay click event\n  */\n  ChatProfile(event) {\n    const toggleIcon = document.getElementById('chat-profile');\n    const toggle = document.getElementById('overlayChat');\n    if (event.currentTarget.className === 'chat-profile-close') {\n      this.renderer.removeClass(toggleIcon, 'show');\n      this.renderer.removeClass(toggle, 'show');\n    }\n  }\n}\n","<div class=\"app-content content\" >\n  <div class=\"sidebar-left \"  id=\"sidebar-left\">\n    <div class=\"sidebar\"><!-- app chat user profile left sidebar start -->\n<div class=\"chat-user-profile\" id=\"user-profile\" >\n  <header class=\"chat-user-profile-header text-center border-bottom\">\n <span class=\"chat-profile-close\" (click)=\"showProfile($event)\" >\n  <i class=\"ficon feather ft-x\" ></i>\n</span>\n<div class=\"my-2\">\n\n  <img src=\"../../../assets/images/portrait/small/avatar-s-19.png\" class=\"round mb-1\" alt=\"user_avatar\"\n    height=\"100\" width=\"100\" >\n\n  <h5 class=\"mb-0\">John Doe</h5>\n  <span>Designer</span>\n</div>\n</header>\n<div class=\"chat-user-profile-content\">\n<div class=\"chat-user-profile-scroll\" fxFlex=\"auto\" [perfectScrollbar]=\"config\">\n  <h6 class=\"text-uppercase mb-1\">ABOUT</h6>\n  <p class=\"mb-2\">It is a long established fact that a reader will be distracted by the readable content .</p>\n  <h6>PERSONAL INFORAMTION</h6>\n  <ul class=\"list-unstyled mb-2\">\n    <li class=\"mb-25\">email@gmail.com</li>\n    <li>+1(789) 950 -7654</li>\n  </ul>\n  <h6 class=\"text-uppercase mb-1\">CHANNELS</h6>\n  <ul class=\"list-unstyled mb-2\">\n    <li><a href=\"\"># Devlopers</a></li>\n    <li><a href=\"\"># Designers</a></li>\n  </ul>\n  <h6 class=\"text-uppercase mb-1\">SETTINGS</h6>\n  <ul class=\"list-unstyled\">\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-tag mr-50\"></i>\n        Add\n        Tag</a></li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-star mr-50\"></i>\n        Important Contact</a>\n    </li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i\n          class=\"ficon feather ft-image mr-50\"></i>\n        Shared\n        Documents</a></li>\n    <li class=\"mb-50 \"><a href=\"\" class=\"d-flex align-items-center\"><i\n          class=\"ficon feather ft-trash-2 mr-50\"></i>\n        Deleted\n        Documents</a></li>\n    <li><a href=\"\" class=\"d-flex align-items-center\"><i class=\"ficon feather ft-x-circle mr-50\"></i> Blocked\n        Contact</a></li>\n  </ul>\n  </div>\n</div>\n</div>\n<!-- app chat user profile left sidebar ends -->\n<!-- app chat sidebar start -->\n<div class=\"chat-sidebar card \" id=\"sidebar-card\">\n<span class=\"chat-sidebar-close\" (click) = \"Sidebar($event)\">\n<i class=\"ficon feather ft-x\" ></i>\n</span>\n<div class=\"chat-sidebar-search\">\n<div class=\"d-flex align-items-center\">\n  <div class=\"chat-sidebar-profile-toggle\" (click)=\"showProfile($event)\">\n    <div class=\"avatar\">\n      <img src=\"../../../assets/images/portrait/small/avatar-s-19.png\" class=\"cursor-pointer\" alt=\"user_avatar\"\n        height=\"36\" width=\"36\">\n    </div>\n  </div>\n  <fieldset class=\"form-group position-relative has-icon-left mx-75 mb-0\">\n    <input type=\"text\" class=\"form-control round\" id=\"chat-search\" (keyup)=\"updateFilter($event)\" (keyup)=\"updateFilter1($event)\" placeholder=\"Search\">\n    <div class=\"form-control-position\">\n      <i class=\"ficon feather ft-search text-dark\"></i>\n    </div>\n  </fieldset>\n</div>\n</div>\n<div class=\"chat-sidebar-list-wrapper pt-2 \"  [perfectScrollbar]=\"config\" style=\"top: 0px; height: 450px;\">\n<h6 class=\"px-2 pb-25 mb-0\">CHANNELS<i class=\"ficon feather ft-plus float-right cursor-pointer\"></i></h6>\n<ul class=\"chat-sidebar-list\">\n  <li>\n    <h6 class=\"mb-0\"># Devlopers</h6>\n  </li>\n  <li>\n    <h6 class=\"mb-0\"># Designers</h6>\n  </li>\n</ul>\n<h6 class=\"px-2 pt-2 pb-25 mb-0\">CHATS</h6>\n<ul class=\"chat-sidebar-list\" >\n  <li class = \"chatSidebar\" *ngFor=\"let chats of chatsList\" id=\"users-list\" (click)=\"contentOverlay($event)\"\n  (click)=\"showChat(chats.friendId,1)\"  [ngClass]=\"{'active':chats.isSelected ===  true, '':chats.isSelected ===  false}\">\n    <div class=\"d-flex align-items-center\" >\n      <div class=\"avatar m-0 mr-50\" ><img [src]=\"chats.image\" height=\"36\"\n          width=\"36\" alt=\"sidebar user image\">\n        <span class=\"avatar-status-busy\"></span>\n      </div>\n      <div class=\"chat-sidebar-name\">\n        <h6 class=\"mb-0\">{{chats.name}}</h6><span class=\"text-muted\">{{chats.showMessage}}</span>\n      </div>\n    </div>\n  </li>\n</ul>\n<h6 class=\"px-2 pt-2 pb-25 mb-0\">CONTACTS<i class=\"ficon feather ft-plus float-right cursor-pointer\"></i></h6>\n<ul class=\"chat-sidebar-list\" >\n  <li class = \"chatSidebar\" *ngFor=\"let contact of contactList\" (click)=\"contentOverlay($event)\"\n  (click)=\"showChat(contact.friendId,2)\" id=\"_media\" [ngClass]=\"{'active':contact.isSelected ===  true, '':contact.isSelected ===  false}\">\n    <div class=\"d-flex align-items-center\">\n      <div class=\"avatar m-0 mr-50\"><img [src]=\"contact.image\">\n        <span class=\"avatar-status-away\"></span>\n      </div>\n      <div class=\"chat-sidebar-name\">\n        <h6 class=\"mb-0\">{{contact.name}}</h6><span class=\"text-muted\"> {{contact.showMessage}}</span>\n      </div>\n    </div>\n  </li>\n </ul>\n</div>\n</div>\n<!-- app chat sidebar ends -->\n\n    </div>\n  </div>\n <div class=\"content-right \">\n   \n    <div class=\"content-overlay\" ></div>\n    <div class=\"content-wrapper\">\n      <div class=\"content-header row\">\n      </div>\n      <div class=\"content-body\"><!-- app chat overlay -->\n<div class=\"chat-overlay \" (click) = \"Sidebar($event)\" id=\"overlayChat\" ></div>\n<!-- app chat window start -->\n<section class=\"chat-window-wrapper\">\n<div class=\"chat-start\" id='chat-overlay1'>\n<span class=\"ficon feather ft-message-square chat-sidebar-toggle chat-start-icon font-large-3 p-3 mb-1\" (click)=\"showSidebar($event)\" ></span>\n<h4 class=\"d-none d-lg-block py-50 text-bold-500\">Select a contact to start a chat!</h4>\n<button class=\"btn btn-light-primary chat-start-text chat-sidebar-toggle d-block d-lg-none py-50 px-1\" (click)=\"showSidebar($event)\">Start\n  Conversation!</button>\n</div>\n<div class=\"chat-area d-none\" id = \"chat-area d-none\">\n  <div class=\"chat-header\">\n    <header class=\"d-flex justify-content-between align-items-center px-1 py-75\">\n      <div class=\"d-flex align-items-center\" *ngFor=\"let chats of headerChat\">\n        <div class=\"chat-sidebar-toggle d-block d-lg-none mr-1\" id=\"chat-sidebar\"><i\n            class=\"ficon feather ft-align-justify font-large-1 cursor-pointer\" (click)=\"showSidebar($event)\"></i>\n        </div>\n        <div class=\"avatar chat-profile-toggle m-0 mr-1\" (click)=\"ShowChatProfile($event)\">\n           <span >\n          <img [src]=\"chats.headerImage\" class=\"cursor-pointer\" alt=\"avatar\"/> \n        </span> \n          <span class=\"avatar-status-busy\"></span>\n        </div>\n        <h6 class=\"mb-0\">{{chats.senderName}}</h6>\n      </div>\n      <div class=\"chat-header-icons\">\n     \n        <span class=\"chat-icon-favorite\" id='chat-icon' (click)=\"chatFavorite($event)\">\n          <i class=\"ficon feather ft-star font-medium-5 cursor-pointer\"></i>\n         </span>\n            <span ngbDropdown [open]=\"false\" [autoClose]=\"true\" class=\"d-inline-block dropdown\">\n              <i class=\"ficon feather ft-more-vertical font-medium-4 ml-25 cursor-pointer dropdown-toggle nav-hide-arrow cursor-pointer\"\n            id=\"dropdownMenuButton\" dropdown-menu dropdown-menu-left show data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" role=\"menu\" ngbDropdownToggle>\n          </i>\n              <div ngbDropdownMenu =\"dropdownMenuButton\">\n                <a class=\"dropdown-item\">Pin to top</a>\n                <a class=\"dropdown-item\">Delete chat</a>\n                <a class=\"dropdown-item \">Block</a>\n                </div>\n              </span>\n        </div>\n    </header>\n  </div>\n<!-- chat card start -->\n<div class=\"card chat-wrapper shadow-none mb-0\">\n  <div class=\"card-content\">\n    <div class=\"card-body chat-container\" id=\"test\" fxFlex=\"auto\" [perfectScrollbar]=\"config\">\n      <div class=\"chat-content\">\n          <div class=\"chat\"  #messages [ngClass]=\"{'chat-right': messages.sender === 0 , 'chat-left': messages.sender === 1 }\"\n            *ngFor=\"let messages of contactChat\"> \n            <div class=\"chat-avatar\">\n              <a [routerLink]=\"\" class=\"avatar m-0\">\n                <img [src]=\"messages.senderImage\" />\n              </a>\n            </div>\n            <div class=\"chat-body\">\n              <div class=\"chat-message\">\n                <p>{{messages.message}}</p>\n                <span class=\"chat-time\">{{messages.time}}</span>\n              </div>\n            </div>\n          </div>\n      \n    </div>\n    </div>\n  </div>\n  <div class=\"card-footer chat-footer px-2 py-1 pb-0\">\n    <form class=\"d-flex align-items-center\">\n         <i class=\"ficon feather ft-user cursor-pointer\"></i>\n          <i class=\"ficon feather ft-paperclip ml-1 cursor-pointer\"></i>\n         <input type=\"text\" class=\"form-control chat-message-send mx-1\" [(ngModel)]=\"newMessage\" name=\"newmessage\" id=\"iconLeft4\"\n          placeholder=\"Type your message here....\" #box (keyup.enter)=\"onEnter(box.value)\">\n        <button type=\"submit\" class=\"btn btn-primary glow send d-lg-flex\" (click)=\"sendMessage()\" ><i class=\"ficon feather ft-play\"></i>\n          <span class=\"d-none d-lg-block mx-50\">Send</span></button>\n        </form>\n  </div>\n</div>\n<!-- chat card ends -->\n</div>\n</section>\n<section class=\"chat-profile \" id=\"chat-profile\">\n  <header class=\"chat-profile-header text-center border-bottom\">\n    <span class=\"chat-profile-close\" (click)=\"ChatProfile($event)\">\n      <i class=\"ficon feather ft-x\"></i>\n    </span>\n    <div class=\"my-2\" *ngFor=\"let chats of headerChat\">\n\n      <img [src]=\"chats.headerImage\"class=\"round mb-1\" alt=\"chat avatar\"\n        height=\"100\" width=\"100\">\n\n      <h5 class=\"app-chat-user-name mb-0\">{{chats.senderName}}</h5>\n      <span>Devloper</span>\n    </div>\n  </header>\n  <div class=\"chat-profile-content p-2\">\n    <h6 class=\"mt-1\">ABOUT</h6>\n    <p>It is a long established fact that a reader will be distracted by the readable content.</p>\n    <h6 class=\"mt-2\">PERSONAL INFORMATION</h6>\n    <ul class=\"list-unstyled\">\n      <li class=\"mb-25\">email@gmail.com</li>\n      <li>+1(789) 950-7654</li>\n    </ul>\n  </div>\n</section>\n<!-- app chat window ends -->\n      </div>\n    </div>\n  </div> \n\n</div>\n<!-- END: Content-->\n\n<!-- app chat profile right sidebar ends -->","export * from '@firebase/firestore';\n"],"names":["arrayUnion","map","ChatService","constructor","afs","getChats","collection","snapshotChanges","createChatRoom","data","add","showChat","id","chat","doc","pipe","changes","payload","chatId","sendMessage","update","chatHistory","updateChatStatus","history","factory","providedIn","PerfectScrollbarDirective","AppConstants","_","i0","ChatsComponent","renderer","userService","chatService","wheelPropagation","contactList","JSON","parse","localStorage","getItem","loggedInUser","uid","content","nativeElement","scrollTop","scrollHeight","chatPS","directiveRef","scrollToBottom","err","ngAfterViewInit","messages","forEach","subscribe","getLoggedInUserChats","contactChats","chatsWithHistory","filter","item","length","loggedInUserChats","name","indexOf","ngOnInit","getUsers","users","element","contactMaster","chats","chatList","chatRooms","contactListMap","chatListMap","userChat","isChatExistsWithUser","unreadMessages","status","clickedUser","push","chatListMaster","orderBy","user","toLowerCase","currentUserImage","photoURL","senderImage","image","createInProgress","userChats","userId","index","searchContact","event","value","target","temp","d","_self","tempChat","newMessage","messageInfo","message","date","Date","now","currentUser","roomName","userInfo","time","showMessage","badge","showicon","isicon","isactive","isSelected","displayChat","then","chatRoom","loadChatRoom","onEnter","showChatInProgress","contactId","showHeaderData","createAndLoadChatRoom","chatExists","i","room","setUserImage","prevMsg","loadMyChatRoom","selectedUser","chatRoomId","headerName","headerImage","setHistoryAsRead","unreadMsgExists","result","unreadMessageCount","res","showDefaultChat","j","showLastMessage","userUid","contentOverlay","toggleIcon","document","getElementById","toggle","currentTarget","className","addClass","removeClass","showProfile","Sidebar","toggleChat","showSidebar","window","innerWidth","MOBILE_RESPONSIVE_WIDTH","chatFavorite","chatIcon","ShowChatProfile","ChatProfile","selectors","viewQuery","ctx","CommonModule","FormsModule","RouterModule","PerfectScrollbarModule","StaticChatComponent","ApplicationApiService","ToastrModule","NgbModule","ChatsModule","imports","forRoot","forChild","path","component","declarations","PerfectScrollbarComponent","ChatHistory","sender","senderName","ChatHeader","ContactHeader","Chats","friendId","_ChatHistory","chatHeader","Contact","contactHeader","chatApiService","toastr","chatsList","headerArray","getChatContactData","Response","clear","warning","timeOut","disableTimeOut","closeButton","chatArray","getChatsData","contactChat","updateFilter","temp2","updateFilter1","temp3","number","friend","headerChat","showContact"],"sourceRoot":"webpack:///","x_google_ignoreList":[6]}